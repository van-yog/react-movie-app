{"version":3,"sources":["components/MovieItem.js","components/WillWatch.js","components/MovieTabs.js","components/Loader.js","components/App.js","index.js"],"names":["MovieItem","movie","movieWillWatch","console","log","id","isWillWatch","forEach","element","title","state","willWatch","this","props","removeMovie","addMovieToWillWatch","removeMovieFromWillWatch","className","src","backdrop_path","poster_path","alt","vote_average","type","onClick","tupe","setState","React","Component","WillWatch","index","MovieTabs","sort_by","updateSortBy","handleClick","value","getClassLink","Loader","App","getMovies","fetch","then","data","json","movies","results","isDownload","updateMovies","filter","item","updateMoviesWillWatch","countMoviesWillWatch","setTimeout","prevProps","prevState","map","length","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.162fddba.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nclass MovieItem extends React.Component {\r\n  constructor({ movie, movieWillWatch }) {\r\n    console.log('MovieItem->constructor->props', movie.id)\r\n    console.log('MovieItem->constructor->props', movieWillWatch)\r\n    super()\r\n\r\n    let isWillWatch = false\r\n\r\n    movieWillWatch.forEach((element) => {\r\n      if (element.id === movie.id) {\r\n        console.log(\r\n          'Фильм уже добавлен для просмортра! Нужно поменять его цвет',\r\n          movie.title\r\n        )\r\n        isWillWatch = true\r\n      }\r\n    })\r\n    this.state = {\r\n      willWatch: isWillWatch,\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    // console.log('MovieItem->componentDidMount')\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    // console.log('MovieItem->componentDidUpdate')\r\n  }\r\n\r\n  render() {\r\n    // console.log('MovieItem->render')\r\n    const {\r\n      movie,\r\n      removeMovie,\r\n      addMovieToWillWatch,\r\n      removeMovieFromWillWatch,\r\n    } = this.props\r\n\r\n    const classBorder = 'border rounded p-2 my-2 bg-light'\r\n    const classBorderWillWatch =\r\n      'border rounded p-2 my-2 bg-light border-success'\r\n    const classTitle = 'text-center font-weight-bold my-3 h5'\r\n    const classTitleWillWatch =\r\n      'text-center font-weight-bold my-3 h5 border border-success rounded '\r\n    return (\r\n      <div\r\n        className={this.state.willWatch ? classBorderWillWatch : classBorder}\r\n      >\r\n        <img\r\n          className=\"card-img-top\"\r\n          src={`https://image.tmdb.org/t/p/w500${\r\n            movie.backdrop_path || movie.poster_path\r\n          }`}\r\n          alt=\"\"\r\n        />\r\n\r\n        <p className={this.state.willWatch ? classTitleWillWatch : classTitle}>\r\n          {movie.title}\r\n        </p>\r\n        <p className=\"text-center\"> Vote average: {movie.vote_average}</p>\r\n\r\n        <div className=\"d-flex justify-content-between px-2\">\r\n          <button\r\n            className=\"btn btn-primary\"\r\n            type=\"button\"\r\n            onClick={() => {\r\n              removeMovie(movie)\r\n              removeMovieFromWillWatch(movie)\r\n            }}\r\n          >\r\n            Удалить\r\n          </button>\r\n          {this.state.willWatch ? (\r\n            <button\r\n              className=\"btn btn-warning\"\r\n              tupe=\"button\"\r\n              onClick={() => {\r\n                this.setState({ willWatch: false })\r\n                removeMovieFromWillWatch(movie)\r\n              }}\r\n            >\r\n              Won't watch\r\n            </button>\r\n          ) : (\r\n            <button\r\n              className=\"btn btn-success\"\r\n              tupe=\"button\"\r\n              onClick={() => {\r\n                this.setState({ willWatch: true })\r\n                addMovieToWillWatch(movie)\r\n              }}\r\n            >\r\n              Will watch\r\n            </button>\r\n          )}\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default MovieItem\r\n","import React from 'react'\r\n\r\nclass WillWatch extends React.Component {\r\n  render() {\r\n    console.log('WillWatch->render')\r\n    const { index, movieWillWatch, removeMovieFromWillWatch } = this.props\r\n    return (\r\n      <div className=\"border rounded border-success m-2 p-2 d-flex justify-content-between align-items-center\">\r\n        <div>\r\n          {index + 1}. {this.props.movieWillWatch.title},{' '}\r\n          {movieWillWatch.vote_average}\r\n        </div>\r\n        <div>\r\n          <button\r\n            type=\"button\"\r\n            className=\"rounded btn btn-danger\"\r\n            onClick={() => removeMovieFromWillWatch(movieWillWatch)}\r\n          >\r\n            &#10006;\r\n          </button>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default WillWatch\r\n","import React from 'react'\r\n\r\nconst MovieTabs = (props) => {\r\n  const { sort_by, updateSortBy } = props\r\n  const handleClick = (value) => () => updateSortBy(value)\r\n\r\n  const getClassLink = (value) => {\r\n    return `nav-link ${sort_by === value ? 'active' : ''}`\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <ul className=\"tabs nav nav-pills mt-4\">\r\n        <li className=\"nav-item mx-2\">\r\n          <div\r\n            className={getClassLink('popularity.desc')}\r\n            onClick={handleClick('popularity.desc')}\r\n          >\r\n            Popularity desc\r\n          </div>\r\n        </li>\r\n        <li className=\"nav-item mx-2\">\r\n          <div\r\n            className={getClassLink('revenue.desc')}\r\n            onClick={handleClick('revenue.desc')}\r\n          >\r\n            Revenue desc\r\n          </div>\r\n        </li>\r\n        <li className=\"nav-item mx-2\">\r\n          <div\r\n            className={getClassLink('vote_average.desc')}\r\n            onClick={handleClick('vote_average.desc')}\r\n          >\r\n            Vote average\r\n          </div>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default MovieTabs\r\n","import React from 'react'\r\n\r\nclass Loader extends React.Component {\r\n  render() {\r\n    console.log('Loader->render')\r\n    return (\r\n      <div className=\"lds-spinner\">\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Loader\r\n","import React from 'react'\r\nimport MovieItem from './MovieItem.js'\r\nimport WillWatch from './WillWatch.js'\r\nimport MoviewTabs from './MovieTabs.js'\r\nimport Loader from './Loader.js'\r\n\r\n// UI = fn(state, props);\r\n\r\nclass App extends React.Component {\r\n  constructor() {\r\n    console.log('App->constructor')\r\n    super()\r\n\r\n    this.state = {\r\n      movies: [],\r\n      movieWillWatch: [],\r\n      countMoviesWillWatch: 0,\r\n      sort_by: 'revenue.desc',\r\n      isDownload: false,\r\n    }\r\n    // this.removeMovie = this.removeMovie.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    console.log('App->componentDidMount')\r\n    setTimeout(this.getMovies, 500)\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    console.log('App->componentDidUpdate')\r\n\r\n    if (prevState.sort_by !== this.state.sort_by) {\r\n      console.log('call api')\r\n      this.setState({\r\n        isDownload: false,\r\n      })\r\n      setTimeout(this.getMovies, 500)\r\n    }\r\n  }\r\n\r\n  getMovies = () => {\r\n    console.log('App->getMovies')\r\n    let api_url =\r\n      'https://api.themoviedb.org/3/discover/movie?api_key=3f4ca4f3a9750da53450646ced312397'\r\n\r\n    fetch(`${api_url}&sort_by=${this.state.sort_by}`)\r\n      .then((data) => data.json())\r\n      .then((data) => {\r\n        this.setState({\r\n          movies: data.results,\r\n          isDownload: true,\r\n        })\r\n        console.log('App-getMovies->after fetch', this.state.movies)\r\n      })\r\n  }\r\n  removeMovie = (movie) => {\r\n    console.log('App->removeMovie')\r\n    const updateMovies = this.state.movies.filter(function (item) {\r\n      return item.id !== movie.id\r\n    })\r\n\r\n    this.setState({\r\n      movies: updateMovies,\r\n    })\r\n  }\r\n\r\n  removeMovieFromWillWatch = (movie) => {\r\n    console.log('App->removeMovieFromWillWatch')\r\n    console.log('movieWillWatch', this.state.movieWillWatch)\r\n    const updateMoviesWillWatch = this.state.movieWillWatch.filter(function (\r\n      item\r\n    ) {\r\n      return item.id !== movie.id\r\n    })\r\n    console.log('Mi DOLJNI OBNOVIT STATE I PERERISOVAT', updateMoviesWillWatch)\r\n\r\n    this.setState({\r\n      movieWillWatch: updateMoviesWillWatch,\r\n    })\r\n  }\r\n\r\n  addMovieToWillWatch = (movie) => {\r\n    // console.log('App->addMovieToWillWatch')\r\n    const updateMoviesWillWatch = [...this.state.movieWillWatch, movie]\r\n\r\n    this.setState({\r\n      movieWillWatch: updateMoviesWillWatch,\r\n    })\r\n  }\r\n\r\n  updateSortBy = (value) => {\r\n    // console.log('App->updateSortBy')\r\n\r\n    this.setState({\r\n      sort_by: value,\r\n    })\r\n  }\r\n\r\n  render() {\r\n    // console.log('App->render')\r\n    return (\r\n      <div className=\"container\">\r\n        <div className=\"row\">\r\n          <div className=\"col-9\">\r\n            <div className=\"row\">\r\n              <div className=\"col-12\">\r\n                <MoviewTabs\r\n                  sort_by={this.state.sort_by}\r\n                  updateSortBy={this.updateSortBy}\r\n                />\r\n              </div>\r\n              <div className=\"col-12 text-center\">\r\n                {!this.state.isDownload ? <Loader /> : ''}\r\n              </div>\r\n            </div>\r\n            <div className=\"row\">\r\n              {this.state.movies.map((movie) => {\r\n                return (\r\n                  <div className=\"col-6\" key={movie.id}>\r\n                    <MovieItem\r\n                      movie={movie}\r\n                      movieWillWatch={this.state.movieWillWatch}\r\n                      removeMovie={this.removeMovie}\r\n                      addMovieToWillWatch={this.addMovieToWillWatch}\r\n                      removeMovieFromWillWatch={this.removeMovieFromWillWatch}\r\n                    />\r\n                  </div>\r\n                )\r\n              })}\r\n            </div>\r\n          </div>\r\n          <div className=\"col-3  mt-2\">\r\n            <p className=\"font-weight-bold\">\r\n              Will watch: {this.state.movieWillWatch.length} movies\r\n            </p>\r\n            {this.state.movieWillWatch.map((movieWillWatch, index) => {\r\n              return (\r\n                <div key={movieWillWatch.id}>\r\n                  <WillWatch\r\n                    movieWillWatch={movieWillWatch}\r\n                    index={index}\r\n                    removeMovieFromWillWatch={this.removeMovieFromWillWatch}\r\n                  />\r\n                </div>\r\n              )\r\n            })}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default App\r\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './components/App'\nimport './bootstrap.min.css'\nimport './index.css'\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}